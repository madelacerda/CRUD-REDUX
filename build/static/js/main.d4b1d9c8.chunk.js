(this.webpackJsonpcrudredux=this.webpackJsonpcrudredux||[]).push([[0],{46:function(e,t,r){},86:function(e,t,r){"use strict";r.r(t);var c=r(0),n=r.n(c),a=r(20),o=r.n(a),u=(r(46),r(12)),s=r(1),i=function(){return Object(s.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary\r justify-content-between",children:[Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("h1",{children:Object(s.jsx)(u.b,{to:"/",className:"text-light",children:"CRUD - React, Redux, REST API & Axios"})})}),Object(s.jsx)(u.b,{to:"/productos/nuevo",className:"btn btn-danger nuevo-post d-block d-md-inline-block",children:"Agregar Producto +"})]})},l=r(4),d=r(14),b=r.n(d),p=r(5),j=r(11),O=r.n(j),f=r(19),m="AGREGAR_PRODUCTO",h="AGREGAR_PRODUCTO_EXITO",x="AGREGAR_PRODUCTO_ERROR",v="COMENZAR_DESCARGA_PRODUCTOS",y="DESCARGA_PRODUCTOS_EXITO",g="DESCARGA_PRODUCTOS_ERROR",N="OBTENER_PRODUCTO_ELIMINAR",R="PRODUCTO_ELIMINADO_EXITO",E="PRODUCTO_ELIMINADO_ERROR",_="OBTENER_PRODUCTO_EDITAR",C="PRODUCTO_EDITADO_EXITO",T="PRODUCTO_EDITADO_ERROR",A="MOSTRAR_ALERTA",D="OCULTAR_ALERTA",w=r(39),P=r.n(w).a.create({baseURL:"http://localhost:4000/"});var S=function(){return{type:m,payload:!0}},I=function(e){return{type:h,payload:e}},U=function(e){return{type:x,payload:e}};var k=function(){return{type:v,payload:!0}},L=function(e){return{type:y,payload:e}},G=function(){return{type:g,payload:!0}};var B=function(e){return{type:N,payload:e}},X=function(){return{type:R}},M=function(){return{type:E,payload:!0}};var F=function(e){return{type:_,payload:e}};var H=function(){return{type:"COMENZAR_EDICION_PRODUCTO"}},J=function(e){return{type:C,payload:e}},V=function(){return{type:T,payload:!0}},Z=function(e){var t=e.producto,r=t.nombre,c=t.precio,n=t.id,a=Object(p.b)(),o=Object(l.f)(),u=function(e){b.a.fire({title:"Estas Seguro?",text:"Un producto que se elimina no se puede recuperar",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, eliminar!!",cancelButtonText:"Cancelar"}).then((function(t){t.value&&a(function(e){return function(){var t=Object(f.a)(O.a.mark((function t(r){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(B(e)),t.prev=1,t.next=4,P.delete("/productos/".concat(e));case 4:r(X()),b.a.fire("Eliminado!","el producto fue eliminado.","success"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),r(M());case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))}))},i=function(e){a(function(e){return function(t){t(F(e))}}(e)),o.push("/productos/editar/".concat(e.id))};return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:r}),Object(s.jsx)("td",{children:Object(s.jsxs)("span",{className:"font-weight-bold",children:[" $ ",c]})}),Object(s.jsxs)("td",{className:"acciones",children:[Object(s.jsx)("button",{type:"button",onClick:function(){return i(t)},className:"btn btn-primary mr-2",children:"Editar"}),Object(s.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){return u(n)},children:"Eliminar"})]})]})},q=function(){var e=Object(p.b)();Object(c.useEffect)((function(){e(function(){var e=Object(f.a)(O.a.mark((function e(t){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(k()),e.prev=1,e.next=4,P.get("/productos");case 4:r=e.sent,t(L(r.data)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),t(G());case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var t=Object(p.c)((function(e){return e.productos.productos})),r=Object(p.c)((function(e){return e.productos.error})),n=Object(p.c)((function(e){return e.productos.loading}));return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h2",{className:"text-center my-5",children:"Listado de Productos"}),r?Object(s.jsx)("p",{className:"font-weight-bold alert alert-danger text-center mt-4",children:"Hubo un error"}):null,n?Object(s.jsx)("p",{className:"text-center",children:"Cargando.........."}):null,Object(s.jsxs)("table",{className:"table table-striped",children:[Object(s.jsx)("thead",{className:"bg-primary table-dark",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Nombre"}),Object(s.jsx)("th",{scope:"col",children:"Precio"}),Object(s.jsx)("th",{scope:"col",children:"Acciones"})]})}),Object(s.jsx)("tbody",{children:0===t.length?"No hay productos":t.map((function(e){return Object(s.jsx)(Z,{producto:e},e.id)}))})]})]})},$=r(18);var z=function(e){return{type:A,payload:e}};var K=function(){return{type:D}},Q=function(e){var t=e.history,r=Object(c.useState)(""),n=Object($.a)(r,2),a=n[0],o=n[1],u=Object(c.useState)(0),i=Object($.a)(u,2),l=i[0],d=i[1],j=Object(p.b)(),m=Object(p.c)((function(e){return e.productos.loading})),h=Object(p.c)((function(e){return e.productos.error})),x=Object(p.c)((function(e){return e.alerta.alerta})),v=function(e){return j(function(e){return function(){var t=Object(f.a)(O.a.mark((function t(r){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(S()),t.prev=1,t.next=4,P.post("/productos",e);case 4:r(I(e)),b.a.fire("Correcto","El producto se agrego correctamente","success"),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),r(U(!0)),b.a.fire({icon:"error",title:"Hubo un error,",text:"Hubo un error, intenta nuevamente"});case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(s.jsx)("div",{className:"row justify-content-center",children:Object(s.jsx)("div",{className:"col-md-8",children:Object(s.jsx)("div",{className:"card",children:Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("h2",{className:"text-center mb-4 font-weight-bold",children:"Agregar Nuevo Producto"}),x?Object(s.jsx)("p",{className:x.classes,children:x.msg}):null,Object(s.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===a.trim()||l<=0){j(function(e){return function(t){t(z(e))}}({msg:"Ambos campos son obligatorios",classes:"alert alert-danger text-center text-uppercase p3"}))}else j((function(e){e(K())})),v({nombre:a,precio:l}),t.push("/")},children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Nombre Producto"}),Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"nombre producto",name:"nombre",value:a,onChange:function(e){return o(e.target.value)}})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Precio Producto"}),Object(s.jsx)("input",{type:"number",className:"form-control",placeholder:"Precio producto",name:"precio",value:l,onChange:function(e){return d(Number(e.target.value))}})]}),Object(s.jsx)("button",{type:"submit",className:"btn btn-primary font-weight-bold text-uppercase\r d-block w-100",children:"Agregar"})]}),m?Object(s.jsx)("p",{children:"Cargando..."}):null,h?Object(s.jsx)("p",{className:"alert alert-danger p2 mt-4 text-center",children:"Hubo un Error"}):null]})})})})},W=r(22),Y=r(3),ee=function(){var e=Object(p.b)(),t=Object(l.f)(),r=Object(c.useState)({nombre:"",precio:""}),n=Object($.a)(r,2),a=n[0],o=n[1],u=Object(p.c)((function(e){return e.productos.productoeditar}));Object(c.useEffect)((function(){o(u)}),[u]);var i=function(e){o(Object(Y.a)(Object(Y.a)({},a),{},Object(W.a)({},e.target.name,e.target.value)))},d=a.nombre,b=a.precio;return Object(s.jsx)("div",{className:"row justify-content-center",children:Object(s.jsx)("div",{className:"col-md-8",children:Object(s.jsx)("div",{className:"card",children:Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("h2",{className:"text-center mb-4 font-weight-bold",children:"Editar Producto"}),Object(s.jsxs)("form",{onSubmit:function(r){r.preventDefault(),e(function(e){return function(){var t=Object(f.a)(O.a.mark((function t(r){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(H()),t.prev=1,t.next=4,P.put("/productos/".concat(e.id),e);case 4:r(J(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),r(V());case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}(a)),t.push("/")},children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Nombre Producto"}),Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"nombre producto",name:"nombre",value:d,onChange:i})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Precio Producto"}),Object(s.jsx)("input",{type:"number",className:"form-control",placeholder:"Precio producto",name:"precio",value:b,onChange:i})]}),Object(s.jsx)("button",{type:"submit",className:"btn btn-primary font-weight-bold text-uppercase\r d-block w-100",children:"Guardar Cambios"})]})]})})})})},te=r(15),re=r(40),ce=r(41),ne={productos:[],error:null,loading:!1,productoeliminar:null,productoeditar:null},ae={alerta:null},oe=Object(te.b)({productos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:case m:return Object(Y.a)(Object(Y.a)({},e),{},{loading:t.payload});case h:return Object(Y.a)(Object(Y.a)({},e),{},{loading:!1,productos:[].concat(Object(ce.a)(e.productos),[t.payload])});case x:case g:case E:case T:return Object(Y.a)(Object(Y.a)({},e),{},{loading:!1,error:t.payload});case y:return Object(Y.a)(Object(Y.a)({},e),{},{loading:!1,error:null,productos:t.payload});case N:return Object(Y.a)(Object(Y.a)({},e),{},{productoeliminar:t.payload});case R:return Object(Y.a)(Object(Y.a)({},e),{},{productos:e.productos.filter((function(t){return t.id!==e.productoeliminar})),productoeliminar:null});case _:return Object(Y.a)(Object(Y.a)({},e),{},{productoeditar:t.payload});case C:return Object(Y.a)(Object(Y.a)({},e),{},{productoeditar:null,productos:e.productos.map((function(e){return e.id===t.payload.id?e=t.payload:e}))});default:return e}},alerta:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(Y.a)(Object(Y.a)({},e),{},{alerta:t.payload});case D:return Object(Y.a)(Object(Y.a)({},e),{},{alerta:null});default:return e}}}),ue=Object(te.d)(oe,Object(te.c)(Object(te.a)(re.a),"object"===typeof window&&"undefined"!==typeof window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));var se=function(){return Object(s.jsx)(u.a,{children:Object(s.jsxs)(p.a,{store:ue,children:[Object(s.jsx)(i,{}),Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)(l.c,{children:[Object(s.jsx)(l.a,{exact:!0,path:"/",component:q}),Object(s.jsx)(l.a,{exact:!0,path:"/productos/nuevo",component:Q}),Object(s.jsx)(l.a,{exact:!0,path:"/productos/editar/:id",component:ee})]})})]})})},ie=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,87)).then((function(t){var r=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,o=t.getTTFB;r(e),c(e),n(e),a(e),o(e)}))};o.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(se,{})}),document.getElementById("root")),ie()}},[[86,1,2]]]);
//# sourceMappingURL=main.d4b1d9c8.chunk.js.map