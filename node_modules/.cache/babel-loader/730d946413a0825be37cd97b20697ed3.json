{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Matias de la cerda/Desktop/Redux/crudredux/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Matias de la cerda/Desktop/Redux/crudredux/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{AGREGAR_PRODUCTO,AGREGAR_PRODUCTO_EXITO,AGREGAR_PRODUCTO_ERROR,COMENZAR_DESCARGA_PRODUCTOS,DESCARGA_PRODUCTOS_ERROR,DESCARGA_PRODUCTOS_EXITO,OBTENER_PRODUCTO_ELIMINAR,PRODUCTO_ELIMINADO_EXITO,PRODUCTO_ELIMINADO_ERROR,OBTENER_PRODUCTO_EDITAR,PRODUCTO_EDITADO_EXITO,PRODUCTO_EDITADO_ERROR,COMENZAR_EDICION_PRODUCTO}from\"../types\";import clienteAxios from\"../config/axios\";import Swal from\"sweetalert2\";//Crear nuevos productos\nexport function crearNuevoProductoAction(producto){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(agregarProducto());_context.prev=1;_context.next=4;return clienteAxios.post(\"/productos\",producto);case 4://Si todo sale bien actualizar el state\ndispatch(agregarProductoExito(producto));//Alerta\nSwal.fire(\"Correcto\",\"El producto se agrego correctamente\",\"success\");_context.next=13;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.log(_context.t0);dispatch(agregarProductoError(true));//Alerta de error\nSwal.fire({icon:\"error\",title:\"Hubo un error,\",text:\"Hubo un error, intenta nuevamente\"});case 13:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();}var agregarProducto=function agregarProducto(){return{type:AGREGAR_PRODUCTO,payload:true};};// Si el producto se guarda en la base de datos\nvar agregarProductoExito=function agregarProductoExito(producto){return{type:AGREGAR_PRODUCTO_EXITO,payload:producto};};// si hubo un error\nvar agregarProductoError=function agregarProductoError(estado){return{type:AGREGAR_PRODUCTO_ERROR,payload:estado};};//Funcion que descarga los productos de la base de datos\nexport function obtenerProductiosAction(){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var respuesta;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch(descargarProductos());_context2.prev=1;_context2.next=4;return clienteAxios.get(\"/productos\");case 4:respuesta=_context2.sent;dispatch(descargaProductosExitosa(respuesta.data));_context2.next=12;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);dispatch(descargaProductosError());case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();}var descargarProductos=function descargarProductos(){return{type:COMENZAR_DESCARGA_PRODUCTOS,payload:true};};var descargaProductosExitosa=function descargaProductosExitosa(productos){return{type:DESCARGA_PRODUCTOS_EXITO,payload:productos};};var descargaProductosError=function descargaProductosError(){return{type:DESCARGA_PRODUCTOS_ERROR,payload:true};};//Seleciona y elimina el producto\nexport function borrarProductoAction(id){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch(obtenerProductoEliminar(id));_context3.prev=1;_context3.next=4;return clienteAxios.delete(\"/productos/\".concat(id));case 4:dispatch(eliminarProductoExito());//Si se elimina mostrar alerta\nSwal.fire(\"Eliminado!\",\"el producto fue eliminado.\",\"success\");_context3.next=12;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](1);console.log(_context3.t0);dispatch(eliminarProductoError());case 12:case\"end\":return _context3.stop();}}},_callee3,null,[[1,8]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();}export var obtenerProductoEliminar=function obtenerProductoEliminar(id){return{type:OBTENER_PRODUCTO_ELIMINAR,payload:id};};var eliminarProductoExito=function eliminarProductoExito(){return{type:PRODUCTO_ELIMINADO_EXITO};};var eliminarProductoError=function eliminarProductoError(){return{type:PRODUCTO_ELIMINADO_ERROR,payload:true};};//Colocar producto en edicion\nexport function obtenerProductoEditar(producto){return function(dispatch){dispatch(obtenerProductosAction(producto));};}var obtenerProductosAction=function obtenerProductosAction(producto){return{type:OBTENER_PRODUCTO_EDITAR,payload:producto};};//Edita un registro en la api y state\nexport function editarProductoAction(producto){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:dispatch(editarProducto());_context4.prev=1;_context4.next=4;return clienteAxios.put(\"/productos/\".concat(producto.id),producto);case 4:dispatch(editarProductoExito(producto));_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](1);dispatch(editarProductoError());case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[1,7]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();}var editarProducto=function editarProducto(){return{type:COMENZAR_EDICION_PRODUCTO};};var editarProductoExito=function editarProductoExito(producto){return{type:PRODUCTO_EDITADO_EXITO,payload:producto};};var editarProductoError=function editarProductoError(){return{type:PRODUCTO_EDITADO_ERROR,payload:true};};","map":{"version":3,"sources":["C:/Users/Matias de la cerda/Desktop/Redux/crudredux/src/actions/productoActions.js"],"names":["AGREGAR_PRODUCTO","AGREGAR_PRODUCTO_EXITO","AGREGAR_PRODUCTO_ERROR","COMENZAR_DESCARGA_PRODUCTOS","DESCARGA_PRODUCTOS_ERROR","DESCARGA_PRODUCTOS_EXITO","OBTENER_PRODUCTO_ELIMINAR","PRODUCTO_ELIMINADO_EXITO","PRODUCTO_ELIMINADO_ERROR","OBTENER_PRODUCTO_EDITAR","PRODUCTO_EDITADO_EXITO","PRODUCTO_EDITADO_ERROR","COMENZAR_EDICION_PRODUCTO","clienteAxios","Swal","crearNuevoProductoAction","producto","dispatch","agregarProducto","post","agregarProductoExito","fire","console","log","agregarProductoError","icon","title","text","type","payload","estado","obtenerProductiosAction","descargarProductos","get","respuesta","descargaProductosExitosa","data","descargaProductosError","productos","borrarProductoAction","id","obtenerProductoEliminar","delete","eliminarProductoExito","eliminarProductoError","obtenerProductoEditar","obtenerProductosAction","editarProductoAction","editarProducto","put","editarProductoExito","editarProductoError"],"mappings":"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","sourcesContent":["import {\r\n  AGREGAR_PRODUCTO,\r\n  AGREGAR_PRODUCTO_EXITO,\r\n  AGREGAR_PRODUCTO_ERROR,\r\n  COMENZAR_DESCARGA_PRODUCTOS,\r\n  DESCARGA_PRODUCTOS_ERROR,\r\n  DESCARGA_PRODUCTOS_EXITO,\r\n  OBTENER_PRODUCTO_ELIMINAR,\r\n  PRODUCTO_ELIMINADO_EXITO,\r\n  PRODUCTO_ELIMINADO_ERROR,\r\n  OBTENER_PRODUCTO_EDITAR,\r\n  PRODUCTO_EDITADO_EXITO,\r\n  PRODUCTO_EDITADO_ERROR,\r\n  COMENZAR_EDICION_PRODUCTO,\r\n} from \"../types\";\r\nimport clienteAxios from \"../config/axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\n//Crear nuevos productos\r\nexport function crearNuevoProductoAction(producto) {\r\n  return async (dispatch) => {\r\n    dispatch(agregarProducto());\r\n\r\n    try {\r\n      //Insertar en la API\r\n      await clienteAxios.post(\"/productos\", producto);\r\n\r\n      //Si todo sale bien actualizar el state\r\n      dispatch(agregarProductoExito(producto));\r\n\r\n      //Alerta\r\n      Swal.fire(\"Correcto\", \"El producto se agrego correctamente\", \"success\");\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(agregarProductoError(true));\r\n\r\n      //Alerta de error\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Hubo un error,\",\r\n        text: \"Hubo un error, intenta nuevamente\",\r\n      });\r\n    }\r\n  };\r\n}\r\n\r\nconst agregarProducto = () => ({\r\n  type: AGREGAR_PRODUCTO,\r\n  payload: true,\r\n});\r\n\r\n// Si el producto se guarda en la base de datos\r\nconst agregarProductoExito = (producto) => ({\r\n  type: AGREGAR_PRODUCTO_EXITO,\r\n  payload: producto,\r\n});\r\n// si hubo un error\r\n\r\nconst agregarProductoError = (estado) => ({\r\n  type: AGREGAR_PRODUCTO_ERROR,\r\n  payload: estado,\r\n});\r\n\r\n//Funcion que descarga los productos de la base de datos\r\nexport function obtenerProductiosAction() {\r\n  return async (dispatch) => {\r\n    dispatch(descargarProductos());\r\n\r\n    try {\r\n      const respuesta = await clienteAxios.get(\"/productos\");\r\n      dispatch(descargaProductosExitosa(respuesta.data));\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(descargaProductosError());\r\n    }\r\n  };\r\n}\r\n\r\nconst descargarProductos = () => ({\r\n  type: COMENZAR_DESCARGA_PRODUCTOS,\r\n  payload: true,\r\n});\r\n\r\nconst descargaProductosExitosa = (productos) => ({\r\n  type: DESCARGA_PRODUCTOS_EXITO,\r\n  payload: productos,\r\n});\r\n\r\nconst descargaProductosError = () => ({\r\n  type: DESCARGA_PRODUCTOS_ERROR,\r\n  payload: true,\r\n});\r\n\r\n//Seleciona y elimina el producto\r\nexport function borrarProductoAction(id) {\r\n  return async (dispatch) => {\r\n    dispatch(obtenerProductoEliminar(id));\r\n\r\n    try {\r\n      await clienteAxios.delete(`/productos/${id}`);\r\n\r\n      dispatch(eliminarProductoExito());\r\n      //Si se elimina mostrar alerta\r\n      Swal.fire(\"Eliminado!\", \"el producto fue eliminado.\", \"success\");\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(eliminarProductoError());\r\n    }\r\n  };\r\n}\r\n\r\nexport const obtenerProductoEliminar = (id) => ({\r\n  type: OBTENER_PRODUCTO_ELIMINAR,\r\n  payload: id,\r\n});\r\n\r\nconst eliminarProductoExito = () => ({\r\n  type: PRODUCTO_ELIMINADO_EXITO,\r\n});\r\n\r\nconst eliminarProductoError = () => ({\r\n  type: PRODUCTO_ELIMINADO_ERROR,\r\n  payload: true,\r\n});\r\n\r\n//Colocar producto en edicion\r\nexport function obtenerProductoEditar(producto) {\r\n  return (dispatch) => {\r\n    dispatch(obtenerProductosAction(producto));\r\n  };\r\n}\r\n\r\nconst obtenerProductosAction = (producto) => ({\r\n  type: OBTENER_PRODUCTO_EDITAR,\r\n  payload: producto,\r\n});\r\n\r\n//Edita un registro en la api y state\r\nexport function editarProductoAction(producto) {\r\n  return async (dispatch) => {\r\n    dispatch(editarProducto());\r\n    try {\r\n      await clienteAxios.put(`/productos/${producto.id}`, producto);\r\n      dispatch(editarProductoExito(producto));\r\n    } catch (error) {\r\n      dispatch(editarProductoError());\r\n    }\r\n  };\r\n}\r\n\r\nconst editarProducto = () => ({\r\n  type: COMENZAR_EDICION_PRODUCTO,\r\n});\r\n\r\nconst editarProductoExito = (producto) => ({\r\n  type: PRODUCTO_EDITADO_EXITO,\r\n  payload: producto,\r\n});\r\n\r\nconst editarProductoError = () => ({\r\n  type: PRODUCTO_EDITADO_ERROR,\r\n  payload: true,\r\n});\r\n"]},"metadata":{},"sourceType":"module"}