{"ast":null,"code":"import { AGREGAR_PRODUCTO, AGREGAR_PRODUCTO_EXITO, AGREGAR_PRODUCTO_ERROR, COMENZAR_DESCARGA_PRODUCTOS, DESCARGA_PRODUCTOS_ERROR, DESCARGA_PRODUCTOS_EXITO, OBTENER_PRODUCTO_ELIMINAR, PRODUCTO_ELIMINADO_EXITO, PRODUCTO_ELIMINADO_ERROR } from \"../types\";\nimport clienteAxios from \"../config/axios\";\nimport Swal from \"sweetalert2\"; //Crear nuevos productos\n\nexport function crearNuevoProductoAction(producto) {\n  return async dispatch => {\n    dispatch(agregarProducto());\n\n    try {\n      //Insertar en la API\n      await clienteAxios.post(\"/productos\", producto); //Si todo sale bien actualizar el state\n\n      dispatch(agregarProductoExito(producto)); //Alerta\n\n      Swal.fire(\"Correcto\", \"El producto se agrego correctamente\", \"success\");\n    } catch (error) {\n      console.log(error);\n      dispatch(agregarProductoError(true)); //Alerta de error\n\n      Swal.fire({\n        icon: \"error\",\n        title: \"Hubo un error,\",\n        text: \"Hubo un error, intenta nuevamente\"\n      });\n    }\n  };\n}\n\nconst agregarProducto = () => ({\n  type: AGREGAR_PRODUCTO,\n  payload: true\n}); // Si el producto se guarda en la base de datos\n\n\nconst agregarProductoExito = producto => ({\n  type: AGREGAR_PRODUCTO_EXITO,\n  payload: producto\n}); // si hubo un error\n\n\nconst agregarProductoError = estado => ({\n  type: AGREGAR_PRODUCTO_ERROR,\n  payload: estado\n}); //Funcion que descarga los productos de la base de datos\n\n\nexport function obtenerProductiosAction() {\n  return async dispatch => {\n    dispatch(descargarProductos());\n\n    try {\n      const respuesta = await clienteAxios.get(\"/productos\");\n      dispatch(descargaProductosExitosa(respuesta.data));\n    } catch (error) {\n      console.log(error);\n      dispatch(descargaProductosError());\n    }\n  };\n}\n\nconst descargarProductos = () => ({\n  type: COMENZAR_DESCARGA_PRODUCTOS,\n  payload: true\n});\n\nconst descargaProductosExitosa = productos => ({\n  type: DESCARGA_PRODUCTOS_EXITO,\n  payload: productos\n});\n\nconst descargaProductosError = () => ({\n  type: DESCARGA_PRODUCTOS_ERROR,\n  payload: true\n}); //Seleciona y elimina el producto\n\n\nexport function borrarProductoAction(id) {\n  return async dispatch => {\n    dispatch(obtenerProductoEliminar(id));\n\n    try {\n      await clienteAxios.delete(`/productos/${id}`);\n      dispatch(eliminarProductoExito());\n    } catch (error) {}\n  };\n}\nexport const obtenerProductoEliminar = id => ({\n  type: OBTENER_PRODUCTO_ELIMINAR,\n  payload: id\n});\n\nconst eliminarProductoExito = () => ({\n  type: PRODUCTO_ELIMINADO_EXITO\n});","map":{"version":3,"sources":["C:/Users/Matias de la cerda/Desktop/Redux/crudredux/src/actions/productoActions.js"],"names":["AGREGAR_PRODUCTO","AGREGAR_PRODUCTO_EXITO","AGREGAR_PRODUCTO_ERROR","COMENZAR_DESCARGA_PRODUCTOS","DESCARGA_PRODUCTOS_ERROR","DESCARGA_PRODUCTOS_EXITO","OBTENER_PRODUCTO_ELIMINAR","PRODUCTO_ELIMINADO_EXITO","PRODUCTO_ELIMINADO_ERROR","clienteAxios","Swal","crearNuevoProductoAction","producto","dispatch","agregarProducto","post","agregarProductoExito","fire","error","console","log","agregarProductoError","icon","title","text","type","payload","estado","obtenerProductiosAction","descargarProductos","respuesta","get","descargaProductosExitosa","data","descargaProductosError","productos","borrarProductoAction","id","obtenerProductoEliminar","delete","eliminarProductoExito"],"mappings":"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","sourcesContent":["import {\r\n  AGREGAR_PRODUCTO,\r\n  AGREGAR_PRODUCTO_EXITO,\r\n  AGREGAR_PRODUCTO_ERROR,\r\n  COMENZAR_DESCARGA_PRODUCTOS,\r\n  DESCARGA_PRODUCTOS_ERROR,\r\n  DESCARGA_PRODUCTOS_EXITO,\r\n  OBTENER_PRODUCTO_ELIMINAR,\r\n  PRODUCTO_ELIMINADO_EXITO,\r\n  PRODUCTO_ELIMINADO_ERROR,\r\n} from \"../types\";\r\nimport clienteAxios from \"../config/axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\n//Crear nuevos productos\r\nexport function crearNuevoProductoAction(producto) {\r\n  return async (dispatch) => {\r\n    dispatch(agregarProducto());\r\n\r\n    try {\r\n      //Insertar en la API\r\n      await clienteAxios.post(\"/productos\", producto);\r\n\r\n      //Si todo sale bien actualizar el state\r\n      dispatch(agregarProductoExito(producto));\r\n\r\n      //Alerta\r\n      Swal.fire(\"Correcto\", \"El producto se agrego correctamente\", \"success\");\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(agregarProductoError(true));\r\n\r\n      //Alerta de error\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Hubo un error,\",\r\n        text: \"Hubo un error, intenta nuevamente\",\r\n      });\r\n    }\r\n  };\r\n}\r\n\r\nconst agregarProducto = () => ({\r\n  type: AGREGAR_PRODUCTO,\r\n  payload: true,\r\n});\r\n\r\n// Si el producto se guarda en la base de datos\r\nconst agregarProductoExito = (producto) => ({\r\n  type: AGREGAR_PRODUCTO_EXITO,\r\n  payload: producto,\r\n});\r\n// si hubo un error\r\n\r\nconst agregarProductoError = (estado) => ({\r\n  type: AGREGAR_PRODUCTO_ERROR,\r\n  payload: estado,\r\n});\r\n\r\n//Funcion que descarga los productos de la base de datos\r\nexport function obtenerProductiosAction() {\r\n  return async (dispatch) => {\r\n    dispatch(descargarProductos());\r\n\r\n    try {\r\n      const respuesta = await clienteAxios.get(\"/productos\");\r\n      dispatch(descargaProductosExitosa(respuesta.data));\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(descargaProductosError());\r\n    }\r\n  };\r\n}\r\n\r\nconst descargarProductos = () => ({\r\n  type: COMENZAR_DESCARGA_PRODUCTOS,\r\n  payload: true,\r\n});\r\n\r\nconst descargaProductosExitosa = (productos) => ({\r\n  type: DESCARGA_PRODUCTOS_EXITO,\r\n  payload: productos,\r\n});\r\n\r\nconst descargaProductosError = () => ({\r\n  type: DESCARGA_PRODUCTOS_ERROR,\r\n  payload: true,\r\n});\r\n\r\n//Seleciona y elimina el producto\r\nexport function borrarProductoAction(id) {\r\n  return async (dispatch) => {\r\n    dispatch(obtenerProductoEliminar(id));\r\n\r\n    try {\r\n      await clienteAxios.delete(`/productos/${id}`);\r\n\r\n      dispatch(eliminarProductoExito());\r\n    } catch (error) {}\r\n  };\r\n}\r\n\r\nexport const obtenerProductoEliminar = (id) => ({\r\n  type: OBTENER_PRODUCTO_ELIMINAR,\r\n  payload: id,\r\n});\r\n\r\nconst eliminarProductoExito = () => ({\r\n  type: PRODUCTO_ELIMINADO_EXITO,\r\n});\r\n"]},"metadata":{},"sourceType":"module"}