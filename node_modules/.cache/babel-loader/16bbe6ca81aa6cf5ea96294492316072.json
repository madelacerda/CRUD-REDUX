{"ast":null,"code":"import _slicedToArray from\"C:/Users/Matias de la cerda/Desktop/Redux/crudredux/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";//Actions de Redux\nimport{crearNuevoProductoAction}from\"../actions/productoActions\";import{mostrarAlerta,ocultarAlertaAction}from\"../actions/alertaActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NuevoProductos=function NuevoProductos(_ref){var history=_ref.history;//State del componente\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),nombre=_useState2[0],guardarNombre=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),precio=_useState4[0],guardarPrecio=_useState4[1];//Utilizar use dispatch y te crea una funcion\nvar dispatch=useDispatch();//Acceder al state del store\nvar cargando=useSelector(function(state){return state.productos.loading;});var error=useSelector(function(state){return state.productos.error;});var alerta=useSelector(function(state){return state.alerta.alerta;});//mandar llamar el action de productoAction\nvar agregarProducto=function agregarProducto(producto){return dispatch(crearNuevoProductoAction(producto));};//Cuando el usuario haga submit\nvar submitNuevoProducto=function submitNuevoProducto(e){e.preventDefault();//Validar formulario\nif(nombre.trim()===\"\"||precio<=0){var _alerta={msg:\"Ambos campos son obligatorios\",classes:\"alert alert-danger text-center text-uppercase p3\"};dispatch(mostrarAlerta(_alerta));return;}//si no hay errores\ndispatch(ocultarAlertaAction());//Crear el nuevo producto\nagregarProducto({nombre:nombre,precio:precio});//Redireccionar\nhistory.push(\"/\");};return/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mb-4 font-weight-bold\",children:\"Agregar Nuevo Producto\"}),alerta?/*#__PURE__*/_jsx(\"p\",{className:alerta.classes,children:alerta.msg}):null,/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitNuevoProducto,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nombre Producto\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"nombre producto\",name:\"nombre\",value:nombre,onChange:function onChange(e){return guardarNombre(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Precio Producto\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",placeholder:\"Precio producto\",name:\"precio\",value:precio,onChange:function onChange(e){return guardarPrecio(Number(e.target.value));}})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary font-weight-bold text-uppercase\\r d-block w-100\",children:\"Agregar\"})]}),cargando?/*#__PURE__*/_jsx(\"p\",{children:\"Cargando...\"}):null,error?/*#__PURE__*/_jsx(\"p\",{className:\"alert alert-danger p2 mt-4 text-center\",children:\"Hubo un Error\"}):null]})})})});};export default NuevoProductos;","map":{"version":3,"sources":["C:/Users/Matias de la cerda/Desktop/Redux/crudredux/src/components/NuevoProducto.js"],"names":["React","useState","useDispatch","useSelector","crearNuevoProductoAction","mostrarAlerta","ocultarAlertaAction","NuevoProductos","history","nombre","guardarNombre","precio","guardarPrecio","dispatch","cargando","state","productos","loading","error","alerta","agregarProducto","producto","submitNuevoProducto","e","preventDefault","trim","msg","classes","push","target","value","Number"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\n//Actions de Redux\r\nimport { crearNuevoProductoAction } from \"../actions/productoActions\";\r\nimport { mostrarAlerta, ocultarAlertaAction } from \"../actions/alertaActions\";\r\n\r\nconst NuevoProductos = ({ history }) => {\r\n  //State del componente\r\n  const [nombre, guardarNombre] = useState(\"\");\r\n  const [precio, guardarPrecio] = useState(0);\r\n\r\n  //Utilizar use dispatch y te crea una funcion\r\n  const dispatch = useDispatch();\r\n\r\n  //Acceder al state del store\r\n  const cargando = useSelector((state) => state.productos.loading);\r\n  const error = useSelector((state) => state.productos.error);\r\n  const alerta = useSelector((state) => state.alerta.alerta);\r\n\r\n  //mandar llamar el action de productoAction\r\n  const agregarProducto = (producto) =>\r\n    dispatch(crearNuevoProductoAction(producto));\r\n\r\n  //Cuando el usuario haga submit\r\n  const submitNuevoProducto = (e) => {\r\n    e.preventDefault();\r\n\r\n    //Validar formulario\r\n    if (nombre.trim() === \"\" || precio <= 0) {\r\n      const alerta = {\r\n        msg: \"Ambos campos son obligatorios\",\r\n        classes: \"alert alert-danger text-center text-uppercase p3\",\r\n      };\r\n      dispatch(mostrarAlerta(alerta));\r\n      return;\r\n    }\r\n\r\n    //si no hay errores\r\n    dispatch(ocultarAlertaAction());\r\n\r\n    //Crear el nuevo producto\r\n    agregarProducto({\r\n      nombre,\r\n      precio,\r\n    });\r\n\r\n    //Redireccionar\r\n    history.push(\"/\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"row justify-content-center\">\r\n      <div className=\"col-md-8\">\r\n        <div className=\"card\">\r\n          <div className=\"card-body\">\r\n            <h2 className=\"text-center mb-4 font-weight-bold\">\r\n              Agregar Nuevo Producto\r\n            </h2>\r\n\r\n            {alerta ? <p className={alerta.classes}>{alerta.msg}</p> : null}\r\n            <form onSubmit={submitNuevoProducto}>\r\n              <div className=\"form-group\">\r\n                <label>Nombre Producto</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"nombre producto\"\r\n                  name=\"nombre\"\r\n                  value={nombre}\r\n                  onChange={(e) => guardarNombre(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>Precio Producto</label>\r\n                <input\r\n                  type=\"number\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Precio producto\"\r\n                  name=\"precio\"\r\n                  value={precio}\r\n                  onChange={(e) => guardarPrecio(Number(e.target.value))}\r\n                />\r\n              </div>\r\n              <button\r\n                type=\"submit\"\r\n                className=\"btn btn-primary font-weight-bold text-uppercase\r\n              d-block w-100\"\r\n              >\r\n                Agregar\r\n              </button>\r\n            </form>\r\n\r\n            {cargando ? <p>Cargando...</p> : null}\r\n            {error ? (\r\n              <p className=\"alert alert-danger p2 mt-4 text-center\">\r\n                Hubo un Error\r\n              </p>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NuevoProductos;\r\n"]},"metadata":{},"sourceType":"module"}